!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist",n(n.s=4)}([function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(2),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o,r,a,s,c=1,l={},u=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){m(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){m(t.data)},i=function(t){r.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(m,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&m(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[c]=o,i(c),c++},f.clearImmediate=h}function h(t){delete l[t]}function m(t){if(u)setTimeout(m,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{h(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(0),n(3))},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var t=s(f);u=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||u||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var i=function(){var t=document.querySelector(".popup-call"),e=document.querySelectorAll(".call-btn"),n=document.querySelectorAll(".popup"),i=function(){t.style.display="block",t.style.transform="translateX(-100%)",setTimeout((function(){t.style.transform="translateX(0%)",t.style.transition="0.8s"}),450)};e.forEach((function(t){return t.addEventListener("click",i)})),n.forEach((function(t){return t.addEventListener("click",(function(e){var n=e.target;n.classList.contains("popup-close")?(t.style.transform="translateX(-100%)",t.style.transition="0.8s",window.statusMsg.remove("div")):(n=n.closest(".popup-content"))||(t.style.transform="translateX(-100%)",t.style.transition="0.8s",window.statusMsg.remove("div"))}))}))},o=(n(1),function(){var t=document.querySelectorAll(".text-center");window.statusMsg=document.createElement("div"),window.statusMsg.style.cssText="font-size: 2rem",t.forEach((function(t){t.addEventListener("submit",(function(i){i.preventDefault(),t.appendChild(window.statusMsg),window.statusMsg.textContent="Идет отправка",new FormData(t).forEach((function(t,e){window.globalObj[e]=t})),e(window.globalObj).then((function(t){if(200!==t.status)throw new Error("Status network is not 200");window.statusMsg.textContent="Отправлено",n()})).catch((function(t){window.statusMsg.textContent="Ошибка",console.log(t)}))}))}));var e=function(t){return fetch("./server.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},n=function(){document.querySelectorAll("input").forEach((function(t){t.value=""})),setTimeout((function(){window.statusMsg.remove("div"),clearTimeout()}),2e3)}}),r=function(){document.addEventListener("input",(function(t){var e=t.target;e.classList.contains("phone-user")?e.value=e.value.replace(/[^0-9+]/g,""):e.classList.contains("user-name")&&(e.value=e.value.replace(/[^а-яА-ЯёЁ\ ]/g,""))}))},a=function(){var t=document.querySelector(".questions"),e=t.querySelectorAll(".panel-heading"),n=t.querySelectorAll(".collapse"),i=document.querySelector(".constructor"),o=i.querySelectorAll(".collapse"),r=i.querySelectorAll(".next-btn"),a=i.querySelectorAll(".panel-heading"),s=document.getElementById("accordion");t.addEventListener("click",(function(t){var i=t.target;(i=i.closest(".panel-heading"))&&e.forEach((function(t,o){t===i&&function(t){for(var i=0;i<e.length;i++)t===i?n[i].classList.add("in"):n[i].classList.remove("in")}(o)}))})),s.addEventListener("click",(function(t){var e=t.target;(e=e.closest(".panel-heading"))&&(t.preventDefault(),a.forEach((function(t,n){t===e?o[n].classList.toggle("in"):o[n].classList.remove("in")})));var n=t.target;(n=n.closest(".next-btn"))&&(t.preventDefault(),r.forEach((function(t,e){t===n&&o[++e].classList.toggle("in")})))}))};function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chbIsSingle=document.getElementById("myonoffswitch"),this.chbIsBottom=document.getElementById("myonoffswitch-two"),this.isHidden=document.querySelectorAll(".second-will"),this.totalResult=document.getElementById("calc-result"),this.selectors=s(document.querySelectorAll("select")),this.inputs=document.querySelectorAll("input"),window.globalObj={},this.data={"сумма":0,"Тип септика":"","Расстояние до дома":0,"Диаметр":"","Диаметр второго":"","Количество колец":"","Количество колец второго":"","Наличие днища":""}}var e,n,i;return e=t,(n=[{key:"calcSection1",value:function(){this.chbIsSingle.checked?(this.data["сумма"]=1e4,this.isHidden.forEach((function(t){return t.classList.add("hidden")})),this.data["Тип септика"]="Однокамерный"):this.chbIsSingle.checked||(this.data["сумма"]=15e3,this.isHidden.forEach((function(t){return t.classList.remove("hidden")})),this.data["Тип септика"]="Двухкамерный")}},{key:"calcSection2",value:function(){var t=!this.chbIsSingle.checked,e=0;0==this.selectors[0].value&&(this.data["Диаметр"]="1.4 метра"),1==this.selectors[0].value&&(e+=.2,this.data["Диаметр"]="2 метра"),t&&0==this.selectors[2].value&&(this.data["Диаметр второго"]="1.4 метра"),t&&1==this.selectors[2].value&&(e+=.2,this.data["Диаметр второго"]="2 метра"),this.data["сумма"]+=this.data["сумма"]*e;var n=0;0==this.selectors[1].value&&(this.data["Количество колец"]="1 штуки"),1==this.selectors[1].value?(n+=.3,this.data["Количество колец"]="2 штуки"):2==this.selectors[1].value&&(n+=.5,this.data["Количество колец"]="3 штуки"),t&&(0==this.selectors[3].value&&(this.data["Количество колец второго"]="1 штука"),1==this.selectors[3].value?(n+=.3,this.data["Количество колец второго"]="2 штуки"):2==this.selectors[3].value&&(n+=.5,this.data["Количество колец второго"]="3 штука")),this.data["сумма"]+=this.data["сумма"]*n}},{key:"calcSection3",value:function(){var t=!this.chbIsSingle.checked;this.chbIsBottom.checked?(this.data["сумма"]+=1e3,this.data["Наличие днища"]="Да",t&&(this.data["сумма"]+=1e3,this.data["Наличие днища"]="Да")):this.data["Наличие днища"]="Нет"}},{key:"calculateAll",value:function(){this.data["сумма"]=0,this.calcSection1(),this.calcSection2(),this.calcSection3(),this.data["Расстояние до дома"]=+this.inputs[5].value+" метров",this.totalResult.value=this.data["сумма"],window.globalObj=this.data}},{key:"init",value:function(){this.chbIsSingle.checked=!1,this.chbIsBottom.checked=!1,this.chbIsSingle.addEventListener("change",this.calculateAll.bind(this));for(var t=0;t<this.selectors.length;t++)this.selectors[t].addEventListener("change",this.calculateAll.bind(this));this.chbIsBottom.addEventListener("change",this.calculateAll.bind(this)),this.inputs[5].addEventListener("change",this.calculateAll.bind(this))}}])&&c(e.prototype,n),i&&c(e,i),t}();i(),o(),r(),a(),(new l).init()}]);